# AI連携コードエディター 🚀


**AI連携コードエディター**は、AIを活用してコードの編集・改善を支援するブラウザベースのツールです。コードの差分検出、AI連携による修正提案、編集履歴の管理などの機能を備え、より効率的なコード開発を実現します。

## 📋 目次

- [背景](#背景)
- [主な機能](#主な機能)
- [セットアップ方法](#セットアップ方法)
- [使用方法](#使用方法)
- [ユースケース例](#ユースケース例)
- [制限事項](#制限事項)
- [トラブルシューティング](#トラブルシューティング)
- [ライセンス](#ライセンス)

## 背景

### 🔍 課題

従来のコード編集作業では以下のような課題がありました：

- コード修正作業に時間と労力がかかる
- AIツールとコードエディタが分離しており、ワークフローが分断される
- コード変更の追跡と差分の把握が困難
- 過去のプロンプトや修正履歴の管理と再利用が不便

### 💡 解決策

本ツールは次のような価値を提供します：

- AIの力を直接コードエディタに統合し、修正プロセスをスピードアップ
- デュアルエディタと差分ハイライト機能で変更点を視覚的に把握
- 変更履歴の自動バックアップとバージョン管理
- AI対話履歴と過去プロンプトの保存・再利用による作業効率の向上

## 主な機能

### 🖥️ デュアルエディター

- **現在SC/修正後SC**：2つのエディタで変更前後のコードを並べて表示
- **差分検出**：変更があった行を自動的に検出し、黄色でハイライト
- **相違行検索**：差分間をワンクリックで移動し、オレンジ色でハイライト表示
- **同期スクロール**：左右のエディタで対応する行を同時に表示

### 🤖 AI連携機能

- **複数AI対応**：GPT-4、Claude 3、Gemini など主要AIモデルをサポート
- **プロンプト入力**：AIに指示するためのカスタムプロンプト作成
- **コンテキスト入力**：追加情報を提供して、より的確な修正を実現
- **チャット履歴**：AI対話の記録と再利用

### 💾 バージョン管理

- **自動バックアップ**：修正適用時に元のコードを自動保存
- **バージョン選択**：過去のバージョンをドロップダウンから選択して読み込み
- **インポート/エクスポート**：バックアップをJSONファイルとして保存・共有

## セットアップ方法

### 👣 基本セットアップ

1. このリポジトリをクローンまたはダウンロードします
   ```bash
   git clone https://github.com/yourusername/ai-code-editor.git
   ```

2. `config.example.js` を `config.js` にコピーします
   ```bash
   cp config.example.js config.js
   ```

3. `config.js` を編集し、各AIサービスのAPIキーを設定します
   ```javascript
   // config.js
   const CONFIG = {
     API_KEY: "あなたのAPIキーをここに入力"
   };
   ```

4. ウェブブラウザでindex.htmlを開きます

> ⚠️ **注意**: `config.js` は `.gitignore` に追加されており、GitHub等にアップロードされません。APIキーをコード内に直接記載しないようにしてください。

### 🔑 APIキーの取得方法

各AIサービスのAPIキーは以下から取得できます：

- **OpenAI (GPT-4, GPT-3.5)**: [OpenAI API](https://platform.openai.com/)
- **Anthropic (Claude)**: [Anthropic API](https://console.anthropic.com/)
- **Google (Gemini)**: [Google AI Studio](https://makersuite.google.com/)

## 使用方法

### 🛠️ 基本的な使い方

#### 1. コードの入力と設定

1. 左側の「現在のソースコード」エディタにコードを入力またはペースト
2. 上部のドロップダウンから使用するAIモデルを選択
3. APIキー入力欄に適切なAPIキーを入力

#### 2. AIによるコード修正

1. 「プロンプト入力」欄にAIへの指示を入力
   ```
   例: このコードのパフォーマンスを最適化し、変数名をより分かりやすくしてください
   ```
2. 必要に応じて「文脈入力」欄に追加情報を入力
3. 「AI実行」ボタンをクリック
4. AIが処理を行い、修正後のコードが右側のエディタに表示されます

#### 3. 差分の確認と移動

1. 変更があった行は自動的に黄色でハイライトされます
2. 「相違行検索」ボタンをクリックすると、最初の差分行にジャンプしオレンジ色でハイライト
3. 再度クリックすると次の差分行に移動
4. すべての差分を確認後、再度クリックすると先頭に戻ります

#### 4. 修正の適用

1. 修正内容に問題がなければ「現在SC→BACKUP ＆ 修正後SC→現在」ボタンをクリック
2. 元のコードはバックアップされ、修正後のコードが現在のコードとして設定されます
3. 「修正後SC→PC保存」ボタンで修正後のコードをファイルとして保存することも可能

### 📚 高度な使い方

#### バックアップの管理

1. 画面右上の「💾」ボタンをクリックしてバックアップマネージャを開く
2. 過去のバックアップ一覧が表示されます
3. 各バックアップに対して以下の操作が可能:
   - 「修正後SCに読み込み」: バックアップを右側エディタに表示
   - 「ダウンロード」: バックアップをファイルとして保存
   - 「削除」: バックアップを削除
4. 「すべてのBACKUPをエクスポート」でバックアップをJSONファイルとして保存
5. 「BACKUPをインポート」で他の環境からバックアップを読み込み

#### プロンプト履歴の活用

1. 「プロンプト入力」欄上部の「過去のプロンプト」ドロップダウンから選択
2. 選択したプロンプトがプロンプト入力欄に自動入力されます
3. チャット履歴の「このプロンプトを再利用」ボタンでも同様の操作が可能

## ユースケース例

### 🐞 バグ修正

```
プロンプト: このJavaScriptコードには無限ループのバグがあります。発見して修正してください。
```

### 📈 コード最適化

```
プロンプト: このコードの実行速度を最適化してください。特に繰り返し処理の部分を改善してください。
```

### ✨ 新機能追加

```
プロンプト: このHTMLコードに、ダークモードとライトモードを切り替えるトグルボタンを追加してください。
```

### 🧹 リファクタリング

```
プロンプト: このコードを整理して、関数を分割し、変数名をより分かりやすくしてください。
```

## 制限事項

### 💰 API利用制限

- 各AIサービスには利用量に応じた料金が発生します


### 🔒 セキュリティ上の注意点

- APIキーは機密情報です。`config.js`を使用し、直接コードに埋め込まないでください
- 機密性の高いコードをAIに送信する場合は、セキュリティポリシーに従ってください
- 公開環境で使用する場合は、適切なセキュリティ対策を講じてください

### 🧩 サポート対象

- **コード言語**: 主にJavaScript、HTML、CSSに最適化されていますが、他の言語も基本的にサポート
- **推奨ブラウザ**: Chrome、Firefox、Edge最新版
- **コードサイズ**: 大規模なコードベースでは、パフォーマンスが低下する場合があります

## トラブルシューティング

### 🚨 よくある問題と解決方法

| 問題 | 解決方法 |
|------|----------|
| AIが応答しない | APIキーが正しいか確認してください |
| 差分が検出されない | 両方のエディタにコードが入力されているか確認してください |
| バックアップが保存されない | ローカルストレージの空き容量を確認してください |
| AIの応答が不適切 | プロンプトを具体的に改善してください |

### ⚠️ エラーメッセージ

- **「APIキーを入力してください」**: APIキー欄にキーを入力してください
- **「AIへのプロンプトを入力してください」**: プロンプト欄が空です
- **「AIからのレスポンスでエラーが発生しました」**: API接続またはレスポンス解析でエラーが発生しています

## ライセンス
個人の範囲でご使用ください。
```
Copyright (c) 2025 Daily Growth
https://yourworklifedesign.blogspot.com/
All rights reserved.
```

